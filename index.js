(()=>{var Pt=Object.create;var K=Object.defineProperty;var jt=Object.getOwnPropertyDescriptor;var Ht=Object.getOwnPropertyNames;var Dt=Object.getPrototypeOf,Ut=Object.prototype.hasOwnProperty;var Kt=e=>K(e,"__esModule",{value:!0});var B=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var zt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ht(t))!Ut.call(e,s)&&(r||s!=="default")&&K(e,s,{get:()=>t[s],enumerable:!(n=jt(t,s))||n.enumerable});return e},Gt=(e,t)=>zt(Kt(K(e!=null?Pt(Dt(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var it=B((ke,st)=>{(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,n){return r<<n|r>>>32-n},rotr:function(r,n){return r<<32-n|r>>>n},endian:function(r){if(r.constructor==Number)return t.rotl(r,8)&16711935|t.rotl(r,24)&4278255360;for(var n=0;n<r.length;n++)r[n]=t.endian(r[n]);return r},randomBytes:function(r){for(var n=[];r>0;r--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(r){for(var n=[],s=0,l=0;s<r.length;s++,l+=8)n[l>>>5]|=r[s]<<24-l%32;return n},wordsToBytes:function(r){for(var n=[],s=0;s<r.length*32;s+=8)n.push(r[s>>>5]>>>24-s%32&255);return n},bytesToHex:function(r){for(var n=[],s=0;s<r.length;s++)n.push((r[s]>>>4).toString(16)),n.push((r[s]&15).toString(16));return n.join("")},hexToBytes:function(r){for(var n=[],s=0;s<r.length;s+=2)n.push(parseInt(r.substr(s,2),16));return n},bytesToBase64:function(r){for(var n=[],s=0;s<r.length;s+=3)for(var l=r[s]<<16|r[s+1]<<8|r[s+2],u=0;u<4;u++)s*8+u*6<=r.length*8?n.push(e.charAt(l>>>6*(3-u)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],s=0,l=0;s<r.length;l=++s%4)l!=0&&n.push((e.indexOf(r.charAt(s-1))&Math.pow(2,-2*l+8)-1)<<l*2|e.indexOf(r.charAt(s))>>>6-l*2);return n}};st.exports=t})()});var G=B((Re,ct)=>{var z={utf8:{stringToBytes:function(e){return z.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(z.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};ct.exports=z});var ht=B((Ce,at)=>{at.exports=function(e){return e!=null&&(ot(e)||Vt(e)||!!e._isBuffer)};function ot(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Vt(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&ot(e.slice(0,0))}});var ut=B((Fe,lt)=>{(function(){var e=it(),t=G().utf8,r=ht(),n=G().bin,s=function(l,u){l.constructor==String?u&&u.encoding==="binary"?l=n.stringToBytes(l):l=t.stringToBytes(l):r(l)?l=Array.prototype.slice.call(l,0):!Array.isArray(l)&&l.constructor!==Uint8Array&&(l=l.toString());for(var i=e.bytesToWords(l),f=l.length*8,o=1732584193,c=-271733879,a=-1732584194,h=271733878,d=0;d<i.length;d++)i[d]=(i[d]<<8|i[d]>>>24)&16711935|(i[d]<<24|i[d]>>>8)&4278255360;i[f>>>5]|=128<<f%32,i[(f+64>>>9<<4)+14]=f;for(var g=s._ff,m=s._gg,M=s._hh,y=s._ii,d=0;d<i.length;d+=16){var L=o,E=c,F=a,H=h;o=g(o,c,a,h,i[d+0],7,-680876936),h=g(h,o,c,a,i[d+1],12,-389564586),a=g(a,h,o,c,i[d+2],17,606105819),c=g(c,a,h,o,i[d+3],22,-1044525330),o=g(o,c,a,h,i[d+4],7,-176418897),h=g(h,o,c,a,i[d+5],12,1200080426),a=g(a,h,o,c,i[d+6],17,-1473231341),c=g(c,a,h,o,i[d+7],22,-45705983),o=g(o,c,a,h,i[d+8],7,1770035416),h=g(h,o,c,a,i[d+9],12,-1958414417),a=g(a,h,o,c,i[d+10],17,-42063),c=g(c,a,h,o,i[d+11],22,-1990404162),o=g(o,c,a,h,i[d+12],7,1804603682),h=g(h,o,c,a,i[d+13],12,-40341101),a=g(a,h,o,c,i[d+14],17,-1502002290),c=g(c,a,h,o,i[d+15],22,1236535329),o=m(o,c,a,h,i[d+1],5,-165796510),h=m(h,o,c,a,i[d+6],9,-1069501632),a=m(a,h,o,c,i[d+11],14,643717713),c=m(c,a,h,o,i[d+0],20,-373897302),o=m(o,c,a,h,i[d+5],5,-701558691),h=m(h,o,c,a,i[d+10],9,38016083),a=m(a,h,o,c,i[d+15],14,-660478335),c=m(c,a,h,o,i[d+4],20,-405537848),o=m(o,c,a,h,i[d+9],5,568446438),h=m(h,o,c,a,i[d+14],9,-1019803690),a=m(a,h,o,c,i[d+3],14,-187363961),c=m(c,a,h,o,i[d+8],20,1163531501),o=m(o,c,a,h,i[d+13],5,-1444681467),h=m(h,o,c,a,i[d+2],9,-51403784),a=m(a,h,o,c,i[d+7],14,1735328473),c=m(c,a,h,o,i[d+12],20,-1926607734),o=M(o,c,a,h,i[d+5],4,-378558),h=M(h,o,c,a,i[d+8],11,-2022574463),a=M(a,h,o,c,i[d+11],16,1839030562),c=M(c,a,h,o,i[d+14],23,-35309556),o=M(o,c,a,h,i[d+1],4,-1530992060),h=M(h,o,c,a,i[d+4],11,1272893353),a=M(a,h,o,c,i[d+7],16,-155497632),c=M(c,a,h,o,i[d+10],23,-1094730640),o=M(o,c,a,h,i[d+13],4,681279174),h=M(h,o,c,a,i[d+0],11,-358537222),a=M(a,h,o,c,i[d+3],16,-722521979),c=M(c,a,h,o,i[d+6],23,76029189),o=M(o,c,a,h,i[d+9],4,-640364487),h=M(h,o,c,a,i[d+12],11,-421815835),a=M(a,h,o,c,i[d+15],16,530742520),c=M(c,a,h,o,i[d+2],23,-995338651),o=y(o,c,a,h,i[d+0],6,-198630844),h=y(h,o,c,a,i[d+7],10,1126891415),a=y(a,h,o,c,i[d+14],15,-1416354905),c=y(c,a,h,o,i[d+5],21,-57434055),o=y(o,c,a,h,i[d+12],6,1700485571),h=y(h,o,c,a,i[d+3],10,-1894986606),a=y(a,h,o,c,i[d+10],15,-1051523),c=y(c,a,h,o,i[d+1],21,-2054922799),o=y(o,c,a,h,i[d+8],6,1873313359),h=y(h,o,c,a,i[d+15],10,-30611744),a=y(a,h,o,c,i[d+6],15,-1560198380),c=y(c,a,h,o,i[d+13],21,1309151649),o=y(o,c,a,h,i[d+4],6,-145523070),h=y(h,o,c,a,i[d+11],10,-1120210379),a=y(a,h,o,c,i[d+2],15,718787259),c=y(c,a,h,o,i[d+9],21,-343485551),o=o+L>>>0,c=c+E>>>0,a=a+F>>>0,h=h+H>>>0}return e.endian([o,c,a,h])};s._ff=function(l,u,i,f,o,c,a){var h=l+(u&i|~u&f)+(o>>>0)+a;return(h<<c|h>>>32-c)+u},s._gg=function(l,u,i,f,o,c,a){var h=l+(u&f|i&~f)+(o>>>0)+a;return(h<<c|h>>>32-c)+u},s._hh=function(l,u,i,f,o,c,a){var h=l+(u^i^f)+(o>>>0)+a;return(h<<c|h>>>32-c)+u},s._ii=function(l,u,i,f,o,c,a){var h=l+(i^(u|~f))+(o>>>0)+a;return(h<<c|h>>>32-c)+u},s._blocksize=16,s._digestsize=16,lt.exports=function(l,u){if(l==null)throw new Error("Illegal argument "+l);var i=e.wordsToBytes(s(l,u));return u&&u.asBytes?i:u&&u.asString?n.bytesToString(i):e.bytesToHex(i)}})()});var dt=Gt(ut()),ft={init(){document.addEventListener("submit",async e=>{if(e.target?.dataset?.dynamicForm===void 0)return;e.preventDefault();let t=e.target,r=new FormData(t),n=t.action,s=t.method;if((await fetch(n,{method:s,body:r,headers:{Accept:"application/json"}})).ok){if(t.dataset.pre){let i=document.querySelector(t.dataset.pre).innerHTML;for(let f of r){let o=f[0],c=f[1];i=i.replaceAll(`[[${o}]]`,c),o==="email"&&(i=i.replaceAll("[[emailhash]]",(0,dt.default)(c)))}t.insertAdjacentHTML("beforebegin",i)}t.insertAdjacentHTML("afterend",document.querySelector(t.dataset.success).innerHTML)}else t.insertAdjacentHTML("afterend",document.querySelector(t.dataset.error).innerHTML);let u=t.nextElementSibling;t.remove()})}};function A(e){return Array.isArray?Array.isArray(e):mt(e)==="[object Array]"}var Wt=1/0;function Yt(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Wt?"-0":t}function Qt(e){return e==null?"":Yt(e)}function I(e){return typeof e=="string"}function pt(e){return typeof e=="number"}function qt(e){return e===!0||e===!1||Jt(e)&&mt(e)=="[object Boolean]"}function gt(e){return typeof e=="object"}function Jt(e){return gt(e)&&e!==null}function w(e){return e!=null}function V(e){return!e.trim().length}function mt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Xt="Incorrect 'index' type",Zt=e=>`Invalid value for key ${e}`,te=e=>`Pattern length exceeds max of ${e}.`,ee=e=>`Missing ${e} property in key`,re=e=>`Property 'weight' in key '${e}' must be a positive integer`,yt=Object.prototype.hasOwnProperty,Mt=class{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let s=wt(n);r+=s.weight,this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function wt(e){let t=null,r=null,n=null,s=1;if(I(e)||A(e))n=e,t=St(e),r=W(e);else{if(!yt.call(e,"name"))throw new Error(ee("name"));let l=e.name;if(n=l,yt.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(re(l));t=St(l),r=W(l)}return{path:t,id:r,weight:s,src:n}}function St(e){return A(e)?e:e.split(".")}function W(e){return A(e)?e.join("."):e}function ne(e,t){let r=[],n=!1,s=(l,u,i)=>{if(!!w(l))if(!u[i])r.push(l);else{let f=u[i],o=l[f];if(!w(o))return;if(i===u.length-1&&(I(o)||pt(o)||qt(o)))r.push(Qt(o));else if(A(o)){n=!0;for(let c=0,a=o.length;c<a;c+=1)s(o[c],u,i+1)}else u.length&&s(o,u,i+1)}};return s(e,I(t)?t.split("."):t,0),n?r:r[0]}var se={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ie={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},ce={location:0,threshold:.6,distance:100},oe={useExtendedSearch:!1,getFn:ne,ignoreLocation:!1,ignoreFieldNorm:!1},p={...ie,...se,...ce,...oe},ae=/[^ ]+/g;function he(e=3){let t=new Map,r=Math.pow(10,e);return{get(n){let s=n.match(ae).length;if(t.has(s))return t.get(s);let l=1/Math.sqrt(s),u=parseFloat(Math.round(l*r)/r);return t.set(s,u),u},clear(){t.clear()}}}var P=class{constructor({getFn:t=p.getFn}={}){this.norm=he(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,I(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){let r=this.size();I(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!w(t)||V(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((s,l)=>{let u=this.getFn(t,s.path);if(!!w(u)){if(A(u)){let i=[],f=[{nestedArrIndex:-1,value:u}];for(;f.length;){let{nestedArrIndex:o,value:c}=f.pop();if(!!w(c))if(I(c)&&!V(c)){let a={v:c,i:o,n:this.norm.get(c)};i.push(a)}else A(c)&&c.forEach((a,h)=>{f.push({nestedArrIndex:h,value:a})})}n.$[l]=i}else if(!V(u)){let i={v:u,n:this.norm.get(u)};n.$[l]=i}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function _t(e,t,{getFn:r=p.getFn}={}){let n=new P({getFn:r});return n.setKeys(e.map(wt)),n.setSources(t),n.create(),n}function le(e,{getFn:t=p.getFn}={}){let{keys:r,records:n}=e,s=new P({getFn:t});return s.setKeys(r),s.setIndexRecords(n),s}function j(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:s=p.distance,ignoreLocation:l=p.ignoreLocation}={}){let u=t/e.length;if(l)return u;let i=Math.abs(n-r);return s?u+i/s:i?1:u}function ue(e=[],t=p.minMatchCharLength){let r=[],n=-1,s=-1,l=0;for(let u=e.length;l<u;l+=1){let i=e[l];i&&n===-1?n=l:!i&&n!==-1&&(s=l-1,s-n+1>=t&&r.push([n,s]),n=-1)}return e[l-1]&&l-n>=t&&r.push([n,l-1]),r}var R=32;function de(e,t,r,{location:n=p.location,distance:s=p.distance,threshold:l=p.threshold,findAllMatches:u=p.findAllMatches,minMatchCharLength:i=p.minMatchCharLength,includeMatches:f=p.includeMatches,ignoreLocation:o=p.ignoreLocation}={}){if(t.length>R)throw new Error(te(R));let c=t.length,a=e.length,h=Math.max(0,Math.min(n,a)),d=l,g=h,m=i>1||f,M=m?Array(a):[],y;for(;(y=e.indexOf(t,g))>-1;){let S=j(t,{currentLocation:y,expectedLocation:h,distance:s,ignoreLocation:o});if(d=Math.min(S,d),g=y+c,m){let T=0;for(;T<c;)M[y+T]=1,T+=1}}g=-1;let L=[],E=1,F=c+a,H=1<<c-1;for(let S=0;S<c;S+=1){let T=0,k=F;for(;T<k;)j(t,{errors:S,currentLocation:h+k,expectedLocation:h,distance:s,ignoreLocation:o})<=d?T=k:F=k,k=Math.floor((F-T)/2+T);F=k;let rt=Math.max(1,h-k+1),U=u?a:Math.min(h+k,a)+c,$=Array(U+2);$[U+1]=(1<<S)-1;for(let _=U;_>=rt;_-=1){let N=_-1,nt=r[e.charAt(N)];if(m&&(M[N]=+!!nt),$[_]=($[_+1]<<1|1)&nt,S&&($[_]|=(L[_+1]|L[_])<<1|1|L[_+1]),$[_]&H&&(E=j(t,{errors:S,currentLocation:N,expectedLocation:h,distance:s,ignoreLocation:o}),E<=d)){if(d=E,g=N,g<=h)break;rt=Math.max(1,2*h-g)}}if(j(t,{errors:S+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:o})>d)break;L=$}let D={isMatch:g>=0,score:Math.max(.001,E)};if(m){let S=ue(M,i);S.length?f&&(D.indices=S):D.isMatch=!1}return D}function fe(e){let t={};for(let r=0,n=e.length;r<n;r+=1){let s=e.charAt(r);t[s]=(t[s]||0)|1<<n-r-1}return t}var Y=class{constructor(t,{location:r=p.location,threshold:n=p.threshold,distance:s=p.distance,includeMatches:l=p.includeMatches,findAllMatches:u=p.findAllMatches,minMatchCharLength:i=p.minMatchCharLength,isCaseSensitive:f=p.isCaseSensitive,ignoreLocation:o=p.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:s,includeMatches:l,findAllMatches:u,minMatchCharLength:i,isCaseSensitive:f,ignoreLocation:o},this.pattern=f?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;let c=(h,d)=>{this.chunks.push({pattern:h,alphabet:fe(h),startIndex:d})},a=this.pattern.length;if(a>R){let h=0,d=a%R,g=a-d;for(;h<g;)c(this.pattern.substr(h,R),h),h+=R;if(d){let m=a-R;c(this.pattern.substr(m),m)}}else c(this.pattern,0)}searchIn(t){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(t=t.toLowerCase()),this.pattern===t){let g={isMatch:!0,score:0};return n&&(g.indices=[[0,t.length-1]]),g}let{location:s,distance:l,threshold:u,findAllMatches:i,minMatchCharLength:f,ignoreLocation:o}=this.options,c=[],a=0,h=!1;this.chunks.forEach(({pattern:g,alphabet:m,startIndex:M})=>{let{isMatch:y,score:L,indices:E}=de(t,g,m,{location:s+M,distance:l,threshold:u,findAllMatches:i,minMatchCharLength:f,includeMatches:n,ignoreLocation:o});y&&(h=!0),a+=L,y&&E&&(c=[...c,...E])});let d={isMatch:h,score:h?a/this.chunks.length:1};return h&&n&&(d.indices=c),d}},x=class{constructor(t){this.pattern=t}static isMultiMatch(t){return vt(t,this.multiRegex)}static isSingleMatch(t){return vt(t,this.singleRegex)}search(){}};function vt(e,t){let r=e.match(t);return r?r[1]:null}var Et=class extends x{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},At=class extends x{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},It=class extends x{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},xt=class extends x{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Lt=class extends x{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},Tt=class extends x{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Q=class extends x{constructor(t,{location:r=p.location,threshold:n=p.threshold,distance:s=p.distance,includeMatches:l=p.includeMatches,findAllMatches:u=p.findAllMatches,minMatchCharLength:i=p.minMatchCharLength,isCaseSensitive:f=p.isCaseSensitive,ignoreLocation:o=p.ignoreLocation}={}){super(t);this._bitapSearch=new Y(t,{location:r,threshold:n,distance:s,includeMatches:l,findAllMatches:u,minMatchCharLength:i,isCaseSensitive:f,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},q=class extends x{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n,s=[],l=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+l,s.push([n,r-1]);let u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}},J=[Et,q,It,xt,Tt,Lt,At,Q],kt=J.length,pe=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,ge="|";function me(e,t={}){return e.split(ge).map(r=>{let n=r.trim().split(pe).filter(l=>l&&!!l.trim()),s=[];for(let l=0,u=n.length;l<u;l+=1){let i=n[l],f=!1,o=-1;for(;!f&&++o<kt;){let c=J[o],a=c.isMultiMatch(i);a&&(s.push(new c(a,t)),f=!0)}if(!f)for(o=-1;++o<kt;){let c=J[o],a=c.isSingleMatch(i);if(a){s.push(new c(a,t));break}}}return s})}var ye=new Set([Q.type,q.type]),Rt=class{constructor(t,{isCaseSensitive:r=p.isCaseSensitive,includeMatches:n=p.includeMatches,minMatchCharLength:s=p.minMatchCharLength,ignoreLocation:l=p.ignoreLocation,findAllMatches:u=p.findAllMatches,location:i=p.location,threshold:f=p.threshold,distance:o=p.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:s,findAllMatches:u,ignoreLocation:l,location:i,threshold:f,distance:o},this.pattern=r?t:t.toLowerCase(),this.query=me(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let l=0,u=[],i=0;for(let f=0,o=r.length;f<o;f+=1){let c=r[f];u.length=0,l=0;for(let a=0,h=c.length;a<h;a+=1){let d=c[a],{isMatch:g,indices:m,score:M}=d.search(t);if(g){if(l+=1,i+=M,n){let y=d.constructor.type;ye.has(y)?u=[...u,...m]:u.push(m)}}else{i=0,l=0,u.length=0;break}}if(l){let a={isMatch:!0,score:i/l};return n&&(a.indices=u),a}}return{isMatch:!1,score:1}}},X=[];function Me(...e){X.push(...e)}function Z(e,t){for(let r=0,n=X.length;r<n;r+=1){let s=X[r];if(s.condition(e,t))return new s(e,t)}return new Y(e,t)}var b={AND:"$and",OR:"$or"},tt={PATH:"$path",PATTERN:"$val"},et=e=>!!(e[b.AND]||e[b.OR]),we=e=>!!e[tt.PATH],Se=e=>!A(e)&&gt(e)&&!et(e),Ct=e=>({[b.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ft(e,t,{auto:r=!0}={}){let n=s=>{let l=Object.keys(s),u=we(s);if(!u&&l.length>1&&!et(s))return n(Ct(s));if(Se(s)){let f=u?s[tt.PATH]:l[0],o=u?s[tt.PATTERN]:s[f];if(!I(o))throw new Error(Zt(f));let c={keyId:W(f),pattern:o};return r&&(c.searcher=Z(o,t)),c}let i={children:[],operator:l[0]};return l.forEach(f=>{let o=s[f];A(o)&&o.forEach(c=>{i.children.push(n(c))})}),i};return et(e)||(e=Ct(e)),n(e)}function _e(e,{ignoreFieldNorm:t=p.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:s,norm:l,score:u})=>{let i=s?s.weight:null;n*=Math.pow(u===0&&i?Number.EPSILON:u,(i||1)*(t?1:l))}),r.score=n})}function ve(e,t){let r=e.matches;t.matches=[],!!w(r)&&r.forEach(n=>{if(!w(n.indices)||!n.indices.length)return;let{indices:s,value:l}=n,u={indices:s,value:l};n.key&&(u.key=n.key.src),n.idx>-1&&(u.refIndex=n.idx),t.matches.push(u)})}function Ee(e,t){t.score=e.score}function Ae(e,t,{includeMatches:r=p.includeMatches,includeScore:n=p.includeScore}={}){let s=[];return r&&s.push(ve),n&&s.push(Ee),e.map(l=>{let{idx:u}=l,i={item:t[u],refIndex:u};return s.length&&s.forEach(f=>{f(l,i)}),i})}var C=class{constructor(t,r={},n){this.options={...p,...r},this.options.useExtendedSearch,this._keyStore=new Mt(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof P))throw new Error(Xt);this._myIndex=r||_t(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){!w(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let r=[];for(let n=0,s=this._docs.length;n<s;n+=1){let l=this._docs[n];t(l,n)&&(this.removeAt(n),n-=1,s-=1,r.push(l))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){let{includeMatches:n,includeScore:s,shouldSort:l,sortFn:u,ignoreFieldNorm:i}=this.options,f=I(t)?I(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return _e(f,{ignoreFieldNorm:i}),l&&f.sort(u),pt(r)&&r>-1&&(f=f.slice(0,r)),Ae(f,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){let r=Z(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach(({v:l,i:u,n:i})=>{if(!w(l))return;let{isMatch:f,score:o,indices:c}=r.searchIn(l);f&&s.push({item:l,idx:u,matches:[{score:o,value:l,norm:i,indices:c}]})}),s}_searchLogical(t){let r=Ft(t,this.options),n=(i,f,o)=>{if(!i.children){let{keyId:c,searcher:a}=i,h=this._findMatches({key:this._keyStore.get(c),value:this._myIndex.getValueForItemAtKeyId(f,c),searcher:a});return h&&h.length?[{idx:o,item:f,matches:h}]:[]}switch(i.operator){case b.AND:{let c=[];for(let a=0,h=i.children.length;a<h;a+=1){let d=i.children[a],g=n(d,f,o);if(g.length)c.push(...g);else return[]}return c}case b.OR:{let c=[];for(let a=0,h=i.children.length;a<h;a+=1){let d=i.children[a],g=n(d,f,o);if(g.length){c.push(...g);break}}return c}}},s=this._myIndex.records,l={},u=[];return s.forEach(({$:i,i:f})=>{if(w(i)){let o=n(r,i,f);o.length&&(l[f]||(l[f]={idx:f,item:i,matches:[]},u.push(l[f])),o.forEach(({matches:c})=>{l[f].matches.push(...c)}))}}),u}_searchObjectList(t){let r=Z(t,this.options),{keys:n,records:s}=this._myIndex,l=[];return s.forEach(({$:u,i})=>{if(!w(u))return;let f=[];n.forEach((o,c)=>{f.push(...this._findMatches({key:o,value:u[c],searcher:r}))}),f.length&&l.push({idx:i,item:u,matches:f})}),l}_findMatches({key:t,value:r,searcher:n}){if(!w(r))return[];let s=[];if(A(r))r.forEach(({v:l,i:u,n:i})=>{if(!w(l))return;let{isMatch:f,score:o,indices:c}=n.searchIn(l);f&&s.push({score:o,key:t,value:l,idx:u,norm:i,indices:c})});else{let{v:l,n:u}=r,{isMatch:i,score:f,indices:o}=n.searchIn(l);i&&s.push({score:f,key:t,value:l,norm:u,indices:o})}return s}};C.version="6.4.6";C.createIndex=_t;C.parseIndex=le;C.config=p;C.parseQuery=Ft;Me(Rt);var $t=C;var bt=null,Ie=5,Ot={async init(){try{let e=await window.fetch("https://hugoinaction.github.io/GitHubPagesStore/index.json");if(!e.ok){this.removeSearch();return}let t=await e.json();bt=new $t(t,{keys:[{name:"title",weight:20},{name:"tag",weight:5},{name:"content"}]}),document.addEventListener("input",this.showResults)}catch{this.removeSearch()}},showResults(e){let t=document.querySelector("#search input");if(e.target!==t)return;let r=document.querySelector("#search div");if(t.value.length>0){let n=bt.search(t.value);r.innerHTML=n.slice(0,Ie).map(s=>`<a href="${s.item.url}">
          <img src="${s.item.cover||""}" width="40" height="40">
          <h3>${s.item.title}</h3>
          <span>${s.item.content.substr(0,40)}</span>
        </a>`).join("")}else r.innerHTML=""},removeSearch(){document.querySelector("#search")?.remove()}};var v=[],O={},Nt,Bt={async init(){let e=document.createElement("script");e.setAttribute("src","https://js.stripe.com/v3/"),e.onload=()=>{Nt=Stripe("pk_test_51HzWldGtPsFUGVMkhc6CpV68fwK7E4dzvI6m9Q2RsTA92TBB7AD0NDxnGdgG1jbP65eWz89KTMs8x2tE8mwuS7uN003Q3yiak0")},e.defer=!0,document.body.appendChild(e),document.addEventListener("click",this.handleClick.bind(this)),window.addEventListener("storage",this.updateCart.bind(this)),await this.productInfo(),this.updateCart();let t=new URL(window.location.href);t.searchParams.get("purchase")==="success"&&(t.searchParams.get("retain")||(v.length=0,this.save()),document.body.insertAdjacentHTML("beforeend",`
      <div class="alert success">
        <div class="head">Order Confirmed.</div> 
        Your product will be e-mailed soon.
        <a class="close" href="#">Close</a>
      </div>`),t.searchParams.delete("purchase"),t.searchParams.delete("retain"),window.history.replaceState(null,"",t),document.querySelector(".alert.success .close").addEventListener("click",r=>{document.body.removeChild(document.querySelector(".alert.success")),r.preventDefault()}),setTimeout(()=>{document.body.removeChild(document.querySelector(".alert.success"))},5e3))},handleClick(e){if(e.target.classList.contains("addToCart"))e.preventDefault(),this.addToCart(e.target.form);else if(e.target.classList.contains("buyNow")){e.preventDefault();let t=new FormData(e.target.form);this.onCheckout([{name:t.get("name"),color:t.get("color")}],!0)}else e.target.matches("#cart .delete")?this.onDelete(e):e.target.id==="checkout"&&this.onCheckout()},async onCheckout(e=v,t=!1){try{let r=new URL("https://hugoinaction.herokuapp.com/checkout");e.forEach(s=>r.searchParams.append("products",`${s.name}_${s.color}`)),r.searchParams.append("success",encodeURIComponent(window.location.pathname+`?purchase=success&retain=${t}`)),r.searchParams.append("cancel",encodeURIComponent(window.location.pathname+"?purchase=cancel"));let n=await window.fetch(r.href);if(n.ok){let s=await n.json();Nt.redirectToCheckout({sessionId:s.sessionId})}}catch(r){console.log("Error",r)}},addToCart(e){let t=new FormData(e),r=t.get("name"),n=t.get("color");v.find(s=>s.name===r&&s.color===n)||v.push({name:r,color:n}),this.render(),this.save()},updateCart(){let e=JSON.parse(window.localStorage.getItem("cart")||"[]");v=Array.isArray(e)?e:[],this.render()},async productInfo(){let e=await window.fetch("https://hugoinaction.github.io/GitHubPagesStore/store/index.json");e.ok&&(O=await e.json()),this.render()},save(){window.localStorage.setItem("cart",JSON.stringify(v))},onDelete:function(e){v.splice(v.findIndex(t=>t.name==e.target.dataset.name&&t.color===e.target.dataset.color),1),this.render(),this.save()},render(){let e=document.querySelector("#cart .badge"),t=document.querySelector("#cart > div ");if(e&&(e.innerText=v.length||""),!O||!Object.keys(O).length)return;let r=v.map(n=>({...n,price:parseFloat(O[n.name].Price),cover:O[n.name].Cover}));t&&(t.innerHTML=r.map(n=>`<div class="item">
          <img src="${n.cover}" lazy="true" width="40px">
          <div class="details">
            <h3>${n.name}</h3>
            <div class="color ${n.color}"></div>
            <a class="delete" data-name="${n.name}" data-color="${n.color}">Delete</a>
          </div>
          <div class="price">$${n.price.toFixed(2)}</div>
        </div>`).join(`
`)+`<div class="empty">
          Please add some items to the cart.
        </div>
        <button id="checkout">Checkout</button>`)}};function xe(){ft.init(),Ot.init(),Bt.init()}xe();})();
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
